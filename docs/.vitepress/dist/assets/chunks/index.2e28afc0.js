import{B as p}from"./xy-base.1f56dfdc.js";const d=`:host{border-radius:var(--border-radius-base, 4px);padding:6px 8px;line-height:22px;text-align:start;background-color:var(--tips-bg, rgba(0, 0, 0, .88));color:var(--tips-color, #fff);font-size:14px;width:max-content;max-width:200px}:host:before{content:"";position:absolute;width:16px;height:16px;background-color:inherit;clip-path:path("M 0 8 A 4 4 0 0 0 2.82842712474619 6.82842712474619 L 6.585786437626905 3.0710678118654755 A 2 2 0 0 1 9.414213562373096 3.0710678118654755 L 13.17157287525381 6.82842712474619 A 4 4 0 0 0 16 8 Z")}:host([type=success]){--tips-bg: var(--success-color,#52c41a)}:host([type=error]){--tips-bg: var(--error-color,#f4615c)}:host([type=warning]){--tips-bg: var(--waring-color,#faad14)}
`,f=`:host{position:absolute;visibility:hidden;opacity:.5;transition:opacity .05s,visibility .05s,transform 0s .1s;--s: .5;--pad: 12px;transform:translate(var(--x),var(--y)) scale(var(--s));z-index:10}:host([auto]){transition:transform 0s!important}:host(:is([show],[open],:hover)){transition:var(--transition, .2s);--s: 1;opacity:1;visibility:visible}:host:before{content:"";position:absolute;width:16px;height:16px;background-color:inherit;clip-path:path("M 0 8 A 4 4 0 0 0 2.82842712474619 6.82842712474619 L 6.585786437626905 3.0710678118654755 A 2 2 0 0 1 9.414213562373096 3.0710678118654755 L 13.17157287525381 6.82842712474619 A 4 4 0 0 0 16 8 Z")}:host([dir=top]){transform-origin:bottom;left:calc((var(--left) + var(--right)) * .5px + var(--offset-x, 0) * 1px);top:calc(var(--top) * 1px);--x: -50%;--y: -100%}:host([dir=top]):before{left:50%;bottom:0;transform:translate(-50%,50%) scaleY(-1)}:host([dir=top]:is([show],[open],:hover)){--y: calc(-100% - var(--pad))}:host([dir=TL]){transform-origin:left bottom;left:calc(var(--left) * 1px);top:calc(var(--top) * 1px);--x: 0%;--y: -100%}:host([dir=TL]):before{left:8px;bottom:0;transform:translateY(50%) scaleY(-1)}:host([dir=TL]:is([show],[open],:hover)){--y: calc(-100% - var(--pad))}:host([dir=TR]){transform-origin:right bottom;left:calc(var(--right) * 1px);top:calc(var(--top) * 1px);--x: -100%;--y: -100%}:host([dir=TR]):before{right:8px;bottom:0;transform:translateY(50%) scaleY(-1)}:host([dir=TR]:is([show],[open],:hover)){--y: calc(-100% - var(--pad))}:host([dir=LT]){transform-origin:right top;left:calc(var(--left) * 1px);top:calc(var(--top) * 1px);--x: -100%;--y: 0%}:host([dir=LT]):before{right:0;top:8px;transform:translate(50%) rotate(90deg)}:host([dir=LT]:is([show],[open],:hover)){--x: calc(-100% - var(--pad))}:host([dir=left]){transform-origin:right;left:calc(var(--left) * 1px);top:calc((var(--top) + var(--bottom)) * .5px);--x: -100%;--y: -50%}:host([dir=left]):before{right:0;top:50%;transform:translate(50%,-50%) rotate(90deg)}:host([dir=left]:is([show],[open],:hover)){--x: calc(-100% - var(--pad))}:host([dir=LB]){transform-origin:right top;left:calc(var(--left) * 1px);top:calc(var(--bottom) * 1px);--x: -100%;--y: -100%}:host([dir=LB]):before{right:0;bottom:8px;transform:translate(50%) rotate(90deg)}:host([dir=LB]:is([show],[open],:hover)){--x: calc(-100% - var(--pad))}:host([dir=RT]){transform-origin:left top;left:calc(var(--right) * 1px);top:calc(var(--top) * 1px);--x: 0%;--y: 0%}:host([dir=RT]):before{left:0;top:8px;transform:translate(-50%) rotate(-90deg)}:host([dir=RT]:is([show],[open],:hover)){--x: var(--pad)}:host([dir=right]){transform-origin:left;left:calc(var(--right) * 1px);top:calc((var(--top) + var(--bottom)) * .5px + var(--offset-y, 0) * 1px);--x: 0%;--y: -50%}:host([dir=right]):before{left:0;top:50%;transform:translate(-50%,-50%) rotate(-90deg)}:host([dir=right]:is([show],[open],:hover)){--x: var(--pad)}:host([dir=RB]){transform-origin:left bottom;left:calc(var(--right) * 1px);top:calc(var(--bottom) * 1px);--x: 0%;--y: -100%}:host([dir=RB]):before{left:0;bottom:8px;transform:translate(-50%) rotate(-90deg)}:host([dir=RB]:is([show],[open],:hover)){--x: var(--pad)}:host([dir=bottom]){transform-origin:top;left:calc((var(--left) + var(--right)) * .5px + var(--offset-x, 0) * 1px);top:calc(var(--bottom) * 1px);--x: -50%;--y: 0%}:host([dir=bottom]):before{left:50%;top:0;transform:translate(-50%,-50%)}:host([dir=bottom]:is([show],[open],:hover)){--y: var(--pad)}:host([dir=BL]){transform-origin:left top;left:calc(var(--left) * 1px);top:calc(var(--bottom) * 1px);--x: 0%;--y: 0%}:host([dir=BL]):before{left:8px;top:0;transform:translateY(-50%)}:host([dir=BL]:is([show],[open],:hover)){--y: var(--pad)}:host([dir=BR]){transform-origin:right top;left:calc(var(--right) * 1px);top:calc(var(--bottom) * 1px);--x: -100%;--y: 0%}:host([dir=BR]):before{right:8px;top:0;transform:translateY(-50%)}:host([dir=BR]:is([show],[open],:hover)){--y: var(--pad)}
`;class c extends p{constructor(){super(),this.attachShadow({mode:"open"}),this.adoptedStyle(f)}set dir(t){this.setAttribute("dir",t)}get disabled(){return this.getAttribute("disabled")!==null}set disabled(t){this.toggleAttribute("disabled",t)}get auto(){return this.getAttribute("auto")!==null}set auto(t){this.toggleAttribute("auto",t)}get open(){return this.getAttribute("open")!==null}set open(t){t&&this.setPosition(this.node),this.toggleAttribute("open",t)}set offset(t){const[e,s]=t.split(",");this.style.setProperty("--offset-x",e),this.style.setProperty("--offset-y",s)}getNode(t){let e=t;if(!e)return null;for(;e.shadowRoot&&!e.offsetWidth;)e=e.shadowRoot.firstElementChild;return e}render(t){this.isConnected||(document.body.append(this),this.clientWidth),t&&this.setPosition(t)}setPosition(t){const{left:e,top:s,right:o,bottom:r}=t.getBoundingClientRect();if(this.style.setProperty("--left",parseInt(e+window.pageXOffset)),this.style.setProperty("--top",parseInt(s+window.pageYOffset)),this.style.setProperty("--right",parseInt(o+window.pageXOffset)),this.style.setProperty("--bottom",parseInt(r+window.pageYOffset)),this.auto){const a=window.innerWidth,n=window.innerHeight,i={w:this.offsetWidth+10,h:this.offsetHeight+10};if(s<i.h&&(e<i.w||a-o<i.w)){this.dir="bottom";return}if(n-r<i.h&&(e<i.w||a-o<i.w)){this.dir="top";return}if(e<i.w&&(s<i.h||n-r<i.h)){this.dir="right";return}if(a-o<i.w&&(s<i.h||n-r<i.h)){this.dir="left";return}}}observer(t){const e=new IntersectionObserver(s=>{s.forEach(o=>{const r=o.target,a=o.intersectionRatio;a>0&&a<=1&&(this.setPosition(t),e.unobserve(r))})});e.observe(t)}disconnect(t){if(t.parentNode.tagName.startsWith("XY-"))return;const e={childList:!0,subtree:!0,characterData:!1};new MutationObserver(o=>{o.forEach(r=>{r!=null&&r.removedNodes&&[...r.removedNodes].some(a=>a.contains(t))&&this.remove()})}).observe(document.body,e)}init(t,e){var o;if(!t)return;this.disconnect(t);const s=this.getNode(t);if(this.node=s,Object.keys(e).forEach(r=>{e[r]&&(this[r]=e[r])}),e.dir==="auto"&&(this.auto=!0,this.dir="top"),e.open||e.trigger==="none"||(o=e.trigger)!=null&&o.includes("none")){this.observer(s),this.render();return}e.trigger.includes("hover")&&(t.addEventListener("mouseenter",()=>{this.disabled||this.open||(this._hover=!0,this._timer&&clearTimeout(this._timer),this._timer=setTimeout(()=>{this.render(s),this.open=!0},200))}),t.addEventListener("mouseleave",r=>{this._hover&&(this._hover=!1,this.open=!1),this._timer&&clearTimeout(this._timer)})),e.trigger.includes("focus")&&(t.addEventListener("focus",()=>{this.disabled||(this.render(s),this.open=!0)}),t.addEventListener("blur",r=>{this.open=!1})),e.trigger.includes("click")&&document.addEventListener("click",r=>{this.disabled||(t.contains(r.target)||this.contains(r.target)?this.open||(this.render(s),this.open=!0):this.open=!1)})}}class l extends c{constructor(t,e){super(),this.adoptedStyle(d),this.shadowRoot.innerHTML="<slot></slot>",this.init(t,{dir:"auto",trigger:["hover","focus"],...e})}set tips(t){this.disabled=!t,this.firstChild?this.firstChild.data=t:this.textContent=t}set type(t){this.setAttribute("type",t)}set color(t){this.style.setProperty("--tips-bg",t)}}customElements.get("xy-tip")||customElements.define("xy-tip",l);class g extends p{static get observedAttributes(){return["color","tips","type","open","dir","offset"]}constructor(){super();const t=this.attachShadow({mode:"open"});t.innerHTML=`
      <style>
      :host{
        display: contents!important;
      }
      </style>
      <slot></slot>
      `}get tips(){return this.getAttribute("tips")||""}get color(){return this.getAttribute("color")||""}get dir(){return this.getAttribute("dir")||"top"}get type(){return this.getAttribute("type")}get open(){return this.getAttribute("open")!==null}get offset(){return this.getAttribute("offset")||"0,0"}get trigger(){return this.getAttribute("trigger")||"hover,focus"}set trigger(t){this.setAttribute("trigger",t)}set tips(t){this.setAttribute("tips",t)}set color(t){this.setAttribute("color",t)}set dir(t){this.setAttribute("dir",t)}set open(t){this.toggleAttribute("open",t)}set type(t){this.setAttribute("type",t)}set offset(t){this.setAttribute("offset",t)}connectedCallback(){this.tipEl=new l(this.firstElementChild,{tips:this.tips,dir:this.dir,color:this.color,type:this.type,open:this.open,offset:this.offset,trigger:this.trigger.split(",")})}attributeChangedCallback(t,e,s){this.tipEl&&(this.tipEl[t]=this[t])}disconnectedCallback(){var t;(t=this.tipEl)==null||t.remove()}}customElements.get("xy-tips")||customElements.define("xy-tips",g);export{l as Tips,g as default};
